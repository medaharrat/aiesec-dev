(function(t){function e(e){for(var n,i,r=e[0],c=e[1],l=e[2],u=0,d=[];u<r.length;u++)i=r[u],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&d.push(s[i][0]),s[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);p&&p(e);while(d.length)d.shift()();return a.push.apply(a,l||[]),o()}function o(){for(var t,e=0;e<a.length;e++){for(var o=a[e],n=!0,r=1;r<o.length;r++){var c=o[r];0!==s[c]&&(n=!1)}n&&(a.splice(e--,1),t=i(i.s=o[0]))}return t}var n={},s={app:0},a=[];function i(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=n,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var p=c;a.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"22d7":function(t,e,o){"use strict";var n=o("be87"),s=o.n(n);s.a},"2d9b":function(t,e,o){t.exports=o.p+"img/aiesec.52b5ebaa.png"},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("Navbar"),o("router-view")],1)},a=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-primary fixed-top"},[n("div",{staticClass:"container"},[n("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[n("a",{staticClass:"navbar-brand"},[n("img",{staticStyle:{width:"180px",height:"26px"},attrs:{src:o("2d9b")}})])]),n("a",{attrs:{href:"/log"}},[n("router-link",{staticClass:"nav-link",attrs:{to:"/log"}},[n("button",{staticClass:"btn btn-light",staticStyle:{color:"blue !important","font-family":"'Lato medium'"}},[t._v("Log")])])],1)],1)])},r=[],c={data:function(){return{message:"hello"}}},l=c,p=(o("8baf"),o("2877")),u=Object(p["a"])(l,i,r,!1,null,null,null),d=u.exports,f=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t._m(0),o("div",{staticClass:"container content"},[o("span",{staticClass:"nb-opp"},[o("i",[t._v(t._s(t.opportunities.length)+" opportunities found")])]),o("hr"),t._l(t.opportunities,(function(e){return o("div",{key:e.id,staticClass:"col-lg-12 opp"},[o("a",{staticStyle:{cursor:"pointer"},on:{click:function(o){return t.modalContext(e)}}},[o("Opportunity",{attrs:{opp:e}})],1),t.showModal?o("div",[o("Modal",{attrs:{opp:t.opportunity,visible:t.showModal},on:{close:function(e){t.showModal=!1}}})],1):t._e()])}))],2)])},h=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main-bg col-lg-12",staticStyle:{"background-image":'url("https://cdn-expa.aiesec.org/assets/images/aiesec_org/search-cover.jpg")'}},[o("div",{staticClass:"main-bg-title"},[o("h1",[t._v("Your experience begins here...")])]),o("div",{staticClass:"filters-nav bg-light"})])}],g=(o("a4d3"),o("e01a"),o("bc3a")),v=o.n(g),m=v.a.create({baseURL:"https://api-staging.aiesec.org",headers:{"content-type":"application/json"},xsrfCookieName:"csrftoken",xsrfHeaderName:"X-CSRFToken"}),b=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-modal",{attrs:{"hide-footer":""},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[o("div",{staticClass:"d-block text-center"},[o("div",{staticClass:"bg-modal",staticStyle:{"background-image":'url("https://cdn-expa.aiesec.org/gis-img/gv_default.png")'}},[o("h4",{staticClass:"bg-modal-title"},[t._v(t._s(t.opportunity.title))]),o("div",{staticClass:"bg-modal-country"},[o("svg",{staticStyle:{fill:"#FFFFFF"},attrs:{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"20",height:"20",viewBox:"0 0 172 172"}},[o("g",{staticStyle:{"mix-blend-mode":"normal"},attrs:{fill:"none","fill-rule":"nonzero",stroke:"none","stroke-width":"1","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-miterlimit":"10","stroke-dasharray":"","stroke-dashoffset":"0","font-family":"none","font-weight":"none","font-size":"none","text-anchor":"none"}},[o("path",{attrs:{d:"M0,172v-172h172v172z",fill:"none"}}),o("g",{attrs:{fill:"#ffffff"}},[o("path",{attrs:{d:"M86,3.44c-30.34187,0 -55.04,24.69813 -55.04,55.04c0,48.54969 50.32344,106.45188 52.46,108.8975c0.65844,0.7525 1.58563,1.1825 2.58,1.1825c1.06156,-0.06719 1.92156,-0.43 2.58,-1.1825c2.13656,-2.48594 52.46,-61.3825 52.46,-108.8975c0,-30.34187 -24.69812,-55.04 -55.04,-55.04zM86,41.28c11.395,0 20.64,9.245 20.64,20.64c0,11.395 -9.245,20.64 -20.64,20.64c-11.395,0 -20.64,-9.245 -20.64,-20.64c0,-11.395 9.245,-20.64 20.64,-20.64z"}})])])]),o("span",{staticStyle:{color:"#FFF"}},[t._v(t._s(t.opportunity.country))]),o("br")])]),o("div",{staticClass:"info-modal"},[t.show?o("b-form",{on:{submit:t.onSubmit,reset:t.onReset}},[o("b-form-group",{attrs:{id:"input-group-1",label:"Title:","label-for":"opp-title"}},[o("b-form-input",{attrs:{id:"opp-title",type:"text",required:"",placeholder:"Title"},model:{value:t.opportunity.title,callback:function(e){t.$set(t.opportunity,"title",e)},expression:"opportunity.title"}})],1),o("label",{attrs:{for:"textarea-small"}},[t._v("Description:")]),o("b-form-textarea",{attrs:{id:"opp-description",placeholder:"No description !",rows:"3","max-rows":"6"},model:{value:t.opportunity.description,callback:function(e){t.$set(t.opportunity,"description",e)},expression:"opportunity.description"}}),o("b-button",{staticClass:"mt-3",attrs:{variant:"outline-success",type:"submit",block:""}},[t._v("Submit")]),o("b-button",{staticClass:"mt-3",attrs:{variant:"outline-danger",type:"reset",block:""},on:{click:function(e){t.show=!1}}},[t._v("Cancel")])],1):t._e()],1)])])},y=[],_=(o("d3b7"),"/v2/opportunities/"),w="dd0df21c8af5d929dff19f74506c4a8153d7acd34306b9761fd4a57cfa1d483c",x="http://localhost:4000/log",C={props:{opp:Array,visible:Boolean},data:function(){return{opportunity:{id:this.opp[0],title:this.opp[1],country:this.opp[2],description:this.opp[3]},modification:{opp_id:0}}},methods:{updateOpportunity:function(){this.modification.opp_id=this.opportunity.id,m.patch(_+this.opportunity.id,{access_token:w,opportunity:{opportunity_id:this.opportunity.id,title:this.opportunity.title,skills:[],measure_of_impacts:[],nationalities:[],backgrounds:[],languages:[],description:this.opportunity.description}}).then((function(t){console.log(t.data.data)})).catch((function(t){return console.log(t.response)}))},submitLog:function(){fetch(x,{method:"POST",body:JSON.stringify(this.modification),headers:{"content-type":"application/json"}}).then((function(t){console.log(t.data.data)})).catch((function(t){return console.log(t.response)}))},onSubmit:function(t){this.updateOpportunity(),this.submitLog()},onReset:function(t){var e=this;t.preventDefault(),this.show=!1,this.$nextTick((function(){e.show=!0}))}},computed:{show:{get:function(){return this.visible},set:function(t){t||this.$emit("close")}}}},k=C,S=(o("22d7"),Object(p["a"])(k,b,y,!1,null,null,null)),O=S.exports,M=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"alert row",attrs:{role:"alert"}},[o("div",{staticClass:"col-lg-3 col-5 opp-tile"},[o("img",{staticClass:"opp-tag",attrs:{src:t.oppType(t.opp)}}),o("img",{staticClass:"opp-bg",attrs:{src:"https://cdn-expa.aiesec.org/gis-img/gv_default.png"}})]),o("div",{staticClass:"col-lg-6 col-6"},[o("ul",[o("li",[o("a",{attrs:{href:"#"}},[o("h5",{staticClass:"opp-title"},[t._v(t._s(t.opp.title))])])]),o("li",[o("small",[t._v(t._s(t.opp.office["country"]))]),o("span",{staticStyle:{padding:"5px",color:"#707070"}},[t._v(".")]),o("small",[t._v(t._s(t.dateParser(t.opp.earliest_start_date)))]),o("span",{staticStyle:{padding:"5px",color:"#707070"}},[t._v(".")]),o("small",[t._v(t._s(t.opp.duration)+" weeks")])]),o("li",{staticClass:"mt-2"},[o("img",{staticClass:"org-img",attrs:{src:t.opp.branch.organisation.profile_photo_urls.thumb}}),o("small",[t._v(t._s(t.opp.branch.organisation["name"]))])])])]),o("div",{staticClass:"col-lg-3 col-1 ml-2 row applicants"},[o("div",{staticClass:"applicants-logo ml-4 col-lg-2"},[o("svg",{staticStyle:{fill:"#000000"},attrs:{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 172 172"}},[o("g",{staticStyle:{"mix-blend-mode":"normal"},attrs:{fill:"none","fill-rule":"nonzero",stroke:"none","stroke-width":"1","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-miterlimit":"10","stroke-dasharray":"","stroke-dashoffset":"0","font-family":"none","font-weight":"none","font-size":"none","text-anchor":"none"}},[o("path",{attrs:{d:"M0,172v-172h172v172z",fill:"none"}}),o("g",{attrs:{fill:"#404040"}},[o("path",{attrs:{d:"M89.01,11.7175c-12.65812,0.22844 -21.90312,4.00438 -27.52,11.395c-6.65156,8.76125 -7.86094,22.10469 -3.655,39.56c-1.54531,1.89469 -2.71437,4.77031 -2.2575,8.6c0.90031,7.55188 3.92375,10.68281 6.3425,11.9325c1.16906,5.96625 4.46125,12.64469 7.6325,15.8025v1.6125c0.01344,2.27094 -0.02687,4.42094 -0.1075,6.665c1.80063,3.7625 7.51156,9.675 19.995,9.675c12.5775,0 18.43625,-6.03344 20.1025,-10.2125c-0.06719,-2.06937 -0.01344,-4.03125 0,-6.1275v-1.6125c3.07719,-3.14437 6.24844,-9.83625 7.4175,-15.8025c2.48594,-1.23625 5.42875,-4.35375 6.3425,-11.9325c0.45688,-3.74906 -0.645,-6.59781 -2.15,-8.4925c2.00219,-6.81281 6.08719,-24.55031 -0.9675,-35.905c-2.95625,-4.75687 -7.43094,-7.75344 -13.33,-8.9225c-3.25187,-4.09844 -9.48687,-6.235 -17.845,-6.235zM112.66,114.7025c-4.34031,5.01219 -12.01312,9.1375 -23.22,9.1375c-11.40844,0 -18.86625,-4.1925 -23.1125,-9.03c-3.27875,2.75469 -8.51937,4.82406 -14.2975,7.095c-13.4375,5.28094 -30.14031,11.81156 -31.39,32.68l-0.215,3.655h138.03l-0.215,-3.655c-1.24969,-20.86844 -17.88531,-27.39906 -31.2825,-32.68c-5.805,-2.29781 -11.03219,-4.4075 -14.2975,-7.2025z"}})])])])]),o("div",{staticClass:"applicants-nb col-lg-6"},[o("small",[t._v(t._s(t.opp.applications_count)+" applicants")])])])])])},j=[],$={name:"Opportunity",props:{opp:null},methods:{dateParser:function(t){var e=new Date(t),o=e.getDate(),n=e.getMonth(),s=e.getFullYear(),a=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"];return o+" "+a[n]+" "+s},oppType:function(t){var e;switch(t.programmes.short_name){case"GV":e="https://aiesec.org/assets/images/gv-logo-long.svg";break;case"GE":e="https://aiesec.org/assets/images/ge-logo-long.svg";break;case"GT":e="https://aiesec.org/assets/images/gt-logo-long.svg";break}return e}}},F=$,E=Object(p["a"])(F,M,j,!1,null,null,null),P=E.exports,T="/v2/opportunities",z="dd0df21c8af5d929dff19f74506c4a8153d7acd34306b9761fd4a57cfa1d483c",N={name:"App",data:function(){return{opportunities:[],opportunity:[],showModal:!1}},components:{Modal:O,Opportunity:P},mounted:function(){var t=this;m.get(T,{params:{access_token:z}}).then((function(e){t.opportunities=e.data.data}))},methods:{modalContext:function(t){this.showModal=!0;while(this.opportunity.length>0)this.opportunity.pop();this.opportunity.push(t.id),this.opportunity.push(t.title),this.opportunity.push(t.office["country"]),this.opportunity.push(t.cover_photo_urls.record.description)}}},D=N,J=(o("cccb"),Object(p["a"])(D,f,h,!1,null,null,null)),L=J.exports,A={name:"App",data:function(){return{}},components:{Navbar:d,Home:L}},R=A,B=Object(p["a"])(R,s,a,!1,null,null,null),G=B.exports,H=o("5f5b"),Y=o("8c4f"),q=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t._m(0),o("div",{staticClass:"container"},[o("div",{staticStyle:{"margin-top":"50px"}}),t.logs.length>0?o("div",[t._m(1),t._l(t.logs,(function(e){return o("div",{key:e._id},[o("b-card",{staticClass:"mb-2"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-lg-4 col-4"},[t._v(" "+t._s(e.opp_id)+" ")]),o("div",{staticClass:"col-lg-4 col-4"},[o("p",[t._v("1")])]),o("div",{staticClass:"col-lg-4 col-4"},[t._v(" "+t._s(t.dateParser(e.created))+" ")])])])],1)}))],2):o("div",{staticClass:"no-log"},[t._m(2)])])])},I=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main-bg col-lg-12",staticStyle:{"background-image":'url("https://cdn-expa.aiesec.org/assets/images/aiesec_org/search-cover.jpg")'}},[o("div",{staticClass:"main-bg-title"},[o("h1",[t._v("Modifications Log")])]),o("div",{staticClass:"filters-nav bg-light"})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"row"},[o("div",{staticClass:"col-lg-4 col-4"},[o("h6",[t._v("Opp ID ")])]),o("div",{staticClass:"col-lg-4 col-4"},[o("h6",[t._v("NbEdits")])]),o("div",{staticClass:"col-lg-4 col-4"},[o("h6",[t._v("Time of Last edit")])])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("p",[o("i",[t._v("Sorry ! No Log to show")])])}],U=(o("99af"),"http://localhost:4000/log"),V={data:function(){return{error:"",logs:[]}},mounted:function(){var t=this;fetch(U).then((function(t){return t.json()})).then((function(e){t.logs=e}))},methods:{dateParser:function(t){var e=new Date(t),o=e.getDate(),n=e.getMonth(),s=e.getFullYear(),a=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],i=e.getHours(),r=e.getMinutes();return"".concat(o," ").concat(a[n]," ").concat(s," at ").concat(i,"h:").concat(r,"min")}}},X=V,K=(o("f3d8"),Object(p["a"])(X,q,I,!1,null,null,null)),Q=K.exports;n["default"].use(Y["a"]);var W=[{path:"/",component:L},{path:"/log",component:Q}],Z=new Y["a"]({mode:"history",routes:W}),tt=Z;n["default"].use(H["a"]),n["default"].config.productionTip=!1,new n["default"]({router:tt,render:function(t){return t(G)}}).$mount("#app")},"5ced":function(t,e,o){},6860:function(t,e,o){},"8baf":function(t,e,o){"use strict";var n=o("6860"),s=o.n(n);s.a},bc0c:function(t,e,o){},be87:function(t,e,o){},cccb:function(t,e,o){"use strict";var n=o("5ced"),s=o.n(n);s.a},f3d8:function(t,e,o){"use strict";var n=o("bc0c"),s=o.n(n);s.a}});
//# sourceMappingURL=app.c076eb2f.js.map